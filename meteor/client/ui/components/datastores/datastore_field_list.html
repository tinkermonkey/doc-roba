<template name="DatastoreFieldList">
  <table class="sortable-table">
    <tr class="sortable-table-header">
      <td></td>
      <td>Title</td>
      <td>Data Key</td>
      <td>Type</td>
      <td>Shape</td>
      <td>Default</td>
      <td></td>
    </tr>
    <tr class="sortable-table-divider">
      <td colspan="7"><div class="divider"></div></td>
    </tr>
    {{#if fields.count}}
      {{#each fields}}
        <tr class="sortable-table-row data-store-field" data-pk="{{_id}}" data-field-order="{{order}}" data-store-id="{{../_id}}">
          <td class="drag-handle"><span class="glyphicon glyphicon-record"></span></td>
          <td>{{> EditableTextField value=title dataKey="title"}}</td>
          <td><small>{{dataKey}}</small></td>
          <td>
            {{> EditableFieldType type=type dataKey="type" }}
            {{> EditableDatastoreDataType type=type dataTypeId=dataTypeId projectVersionId=../projectVersionId dataKey="dataTypeId" }}
          </td>
          <td>{{> EditableFieldShape fieldIsArray=fieldIsArray dataKey="fieldIsArray"}}</td>
          <td>{{> EditableTextField dataKey="defaultValue" value=defaultValue emptyText="none"}}</td>
          <td class="btn-delete"><span class="glyphicon glyphicon-remove"></span></td>
        </tr>
      {{/each}}
    {{else}}
      <tr>
        <td colspan="7">
          <i>Click Add Field to configure a custom field</i>
        </td>
      </tr>
    {{/if}}
    <tr class="sortable-table-divider">
      <td colspan="7"><div class="divider"></div></td>
    </tr>
  </table>
  <div>
    <button class="btn btn-small btn-warning btn-small btn-add-field">
      <span class="icon icon-plus"></span>
      Add Field
    </button>
  </div>
</template>