<template name="AdventureConsole">
  {{#NoMenuLayout}}
    {{#if ready}}
      {{setTitle "Adventure Console" }}
      
      {{#with getContext}}
        <div class="fluid-container full-page adventure">
          <div class="adventure-main-view">
            {{> AdventureHeader }}
            {{> AdventureScreen }}
          </div>
          <div class="adventure-sidebar" style="height: {{relativeHeight 1.0}}px;">
            {{#RobaAccordionGroup}}
              {{> CurrentLocationMenu }}
            
              {{> AdventureStatusBar }}
            
              <div class="current-location-container">
                {{> CurrentLocation }}
                {{> CurrentLocationActions }}
              </div>
              
              {{#RobaAccordion display=true sticky=true name="adventure-map" title="Map" icon="glyphicon glyphicon-map-marker" unpadded=true}}
                {{> AdventureMap }}
              {{/RobaAccordion}}
              {{#RobaAccordion name="adventure-route" title="Route" icon="glyphicon glyphicon-picture"}}
                {{> AdventureRoute adventure.get }}
              {{/RobaAccordion}}
              {{#unless adventureIsComplete}}
                {{#RobaAccordion name="command-console" title="Command Editor" icon="glyphicon glyphicon-play"}}
                  {{> AdventureCommandEditor }}
                {{/RobaAccordion}}
              {{/unless}}
              {{#RobaAccordion name="command-history" title="Command History" icon="glyphicon glyphicon-list" sticky=true}}
                {{> AdventureCommandHistory }}
              {{/RobaAccordion}}
            {{/RobaAccordionGroup}}
          </div>
        </div>
      {{/with}}
    {{else}}
      {{> RobaSpinner }}
    {{/if}}
  {{/NoMenuLayout}}
</template>